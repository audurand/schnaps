  <Process label="Pre-Detection">
    <LocalVariables/>
    <PrimitiveTree size="1">
        <Control_IfThenElse>
        	<Operators_IsLess inArgLeft="@Age" inArgRight="$ref.Age_Depart">
        		<!--L'individu n'est pas encore dans le range de depistage-->
        	</Operators_IsLess>
        	<Control_ProcessPush inTarget="current" inLabel="Pre-Detection" inUnits="year" inDelay="1"/>
        	<Control_IfThenElse>
        		<Operators_IsGreater inArgLeft="@Age" inArgRight="$ref.Age_Fin">
        			<!--L'individu est sorti du range de depistage-->
        		</Operators_IsGreater>
        		<Control_Nothing/>
				<Control_IfThenElse>
				  <Operators_AndComplex>
					<!--L'individu est aveugle des deux yeux-->
					<Operators_OrComplex>
					  <Operators_IsEqual inArgLeft="@BDR_D" inArgRight="Aveugle" inArgRight_Type="String"/>
					  <Operators_IsEqual inArgLeft="@DMO_D" inArgRight="Aveugle" inArgRight_Type="String"/>
					</Operators_OrComplex>
					<Operators_OrComplex>
					  <Operators_IsEqual inArgLeft="@BDR_G" inArgRight="Aveugle" inArgRight_Type="String"/>
					  <Operators_IsEqual inArgLeft="@DMO_G" inArgRight="Aveugle" inArgRight_Type="String"/>
					</Operators_OrComplex>
				  </Operators_AndComplex>
				  <Control_Nothing/>
				  <Control_Branch inProbability="$ref.Optometriste_Compliance">
					<Control_IfThenElse>
					  <Control_ProcessCall inLabel="Optometriste"/>
					  <Control_IfThenElse>
						<Control_ProcessCall inLabel="Confirmation_Detection"/>
						<Control_Sequential>
						  <!--Depistage confirme-->
						  <Control_IfThenElse>
							<!--Traitement PDR oeil droit?-->
							<Data_Value inValue="@Resultat_GoldStandard_PDR_D"/>
							<Control_Sequential>
								<Control_ProcessPush inTarget="environment" inLabel="Ajouter_Traitement_PDR" inUnits="month" inDelay="0"/>
								  <Control_IfThenElse>
									<Control_ProcessCall inLabel="Traitement_PDR"/>
									<Data_SetVariable inValue="Traite" inValue_Type="String" outVariable="@BDR_D"/>
									<Control_Nothing/>
								  </Control_IfThenElse>
								</Control_Sequential>
							<Control_Nothing/>
						  </Control_IfThenElse>
						  <Control_IfThenElse>
							<!--Traitement PDR oeil gauche?-->
							<Data_Value inValue="@Resultat_GoldStandard_PDR_G"/>
							<Control_Sequential>
								<Control_ProcessPush inTarget="environment" inLabel="Ajouter_Traitement_PDR" inUnits="month" inDelay="0"/>
								  <Control_IfThenElse>
									<Control_ProcessCall inLabel="Traitement_PDR"/>
									<Data_SetVariable inValue="Traite" inValue_Type="String" outVariable="@BDR_G"/>
									<Control_Nothing/>
								  </Control_IfThenElse>
								</Control_Sequential>
							<Control_Nothing/>
						  </Control_IfThenElse>
						  <Control_IfThenElse>
							<!--Traitement CSMO oeil droit?-->
							<Data_Value inValue="@Resultat_GoldStandard_CSMO_D"/>
							<Control_Sequential>
								<Control_ProcessPush inTarget="environment" inLabel="Ajouter_Traitement_CSMO" inUnits="month" inDelay="0"/>
								  <Control_IfThenElse>
									<Control_ProcessCall inLabel="Traitement_CSMO"/>
									<Data_SetVariable inValue="Traite" inValue_Type="String" outVariable="@DMO_D"/>
									<Control_Nothing/>
								  </Control_IfThenElse>
								</Control_Sequential>
							<Control_Nothing/>
						  </Control_IfThenElse>
						  <Control_IfThenElse>
							<!--Traitement CSMO oeil gauche?-->
							<Data_Value inValue="@Resultat_GoldStandard_CSMO_G"/>
							<Control_Sequential>
								<Control_ProcessPush inTarget="environment" inLabel="Ajouter_Traitement_CSMO" inUnits="month" inDelay="0"/>
								  <Control_IfThenElse>
									<Control_ProcessCall inLabel="Traitement_CSMO"/>
									<Data_SetVariable inValue="Traite" inValue_Type="String" outVariable="@DMO_G"/>
									<Control_Nothing/>
								  </Control_IfThenElse>
								</Control_Sequential>
							<Control_Nothing/>
						  </Control_IfThenElse>
						  <Control_ProcessPush inTarget="current" inLabel="Post-Detection" inUnits="month" inDelay="$ref.GoldStandard_Intervalle"/>
						</Control_Sequential>
						<Control_ProcessPush inTarget="current" inLabel="Pre-Detection" inUnits="month" inDelay="$ref.Optometriste_Intervalle">
						  <!--Depistage infirme-->
						</Control_ProcessPush>
					  </Control_IfThenElse>
					  <Control_ProcessPush inTarget="current" inLabel="Pre-Detection" inLabel="Pre-Detection" inUnits="month" inDelay="$ref.Optometriste_Intervalle">
						<!--Depistage negatif-->
					  </Control_ProcessPush>
					</Control_IfThenElse>
					<Control_ProcessPush inTarget="current" inLabel="Pre-Detection" inLabel="Pre-Detection" inUnits="month" inDelay="$ref.Optometriste_Intervalle">
					  <!--Non-consentant au depistage-->
					</Control_ProcessPush>
				  </Control_Branch>
				</Control_IfThenElse>
			</Control_IfThenElse>
		</Control_IfThenElse>
    </PrimitiveTree>
  </Process>
