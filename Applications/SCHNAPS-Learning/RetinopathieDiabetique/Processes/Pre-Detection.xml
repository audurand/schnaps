  <Process label="Pre-Detection">
    <LocalVariables/>
    <PrimitiveTree size="1">
      <Control_IfThenElse>
        <Data_Value inValue="@Mort"/>
        <Control_Nothing/>
        <Control_IfThenElse>
          <Operators_AndComplex>
            <!--L'individu est aveugle des deux yeux-->
            <Operators_OrComplex>
              <Operators_IsEqual inArgLeft="@BDR_D" inArgRight="Aveugle" inArgRight_Type="String"/>
              <Operators_IsEqual inArgLeft="@DMO_D" inArgRight="Aveugle" inArgRight_Type="String"/>
            </Operators_OrComplex>
            <Operators_OrComplex>
              <Operators_IsEqual inArgLeft="@BDR_G" inArgRight="Aveugle" inArgRight_Type="String"/>
              <Operators_IsEqual inArgLeft="@DMO_G" inArgRight="Aveugle" inArgRight_Type="String"/>
            </Operators_OrComplex>
          </Operators_AndComplex>
          <Control_Nothing/>
          <Control_Branch inProbability="$Optometriste_Compliance">
            <Control_IfThenElse>
              <Control_ProcessCall inLabel="Optometriste"/>
              <Control_IfThenElse>
                <Control_ProcessCall inLabel="Confirmation_Detection"/>
                <Control_Sequential>
                  <!--Depistage confirme-->
                  <Control_IfThenElse>
                    <!--Traitement PDR oeil droit?-->
                    <Data_Value inValue="@Resultat_GoldStandard_PDR_D"/>
                    <Control_Sequential>
                      <Data_SetVariable inValue="true" inValue_Type="Bool" outVariable="@Traitement_PDR_D"/>
                      <Control_IfThenElse>
                        <Control_ProcessCall inLabel="Traitement_PDR"/>
                        <Data_SetVariable inValue="Traite" inValue_Type="String" outVariable="@BDR_D"/>
                        <Control_Nothing/>
                      </Control_IfThenElse>
                    </Control_Sequential>
                    <Control_Nothing/>
                  </Control_IfThenElse>
                  <Control_IfThenElse>
                    <!--Traitement PDR oeil gauche?-->
                    <Data_Value inValue="@Resultat_GoldStandard_PDR_G"/>
                    <Control_Sequential>
                      <Data_SetVariable inValue="true" inValue_Type="Bool" outVariable="@Traitement_PDR_G"/>
                      <Control_IfThenElse>
                        <Control_ProcessCall inLabel="Traitement_PDR"/>
                        <Data_SetVariable inValue="Traite" inValue_Type="String" outVariable="@BDR_G"/>
                        <Control_Nothing/>
                      </Control_IfThenElse>
                    </Control_Sequential>
                    <Control_Nothing/>
                  </Control_IfThenElse>
                  <Control_IfThenElse>
                    <!--Traitement CSMO oeil droit?-->
                    <Data_Value inValue="@Resultat_GoldStandard_CSMO_D"/>
                    <Control_Sequential>
                      <Data_SetVariable inValue="true" inValue_Type="Bool" outVariable="@Traitement_CSMO_D"/>
                      <Control_IfThenElse>
                        <Control_ProcessCall inLabel="Traitement_CSMO"/>
                        <Data_SetVariable inValue="Traite" inValue_Type="String" outVariable="@DMO_D"/>
                        <Control_Nothing/>
                      </Control_IfThenElse>
                    </Control_Sequential>
                    <Control_Nothing/>
                  </Control_IfThenElse>
                  <Control_IfThenElse>
                    <!--Traitement CSMO oeil gauche?-->
                    <Data_Value inValue="@Resultat_GoldStandard_CSMO_G"/>
                    <Control_Sequential>
                      <Data_SetVariable inValue="true" inValue_Type="Bool" outVariable="@Traitement_CSMO_G"/>
                      <Control_IfThenElse>
                        <Control_ProcessCall inLabel="Traitement_CSMO"/>
                        <Data_SetVariable inValue="Traite" inValue_Type="String" outVariable="@DMO_G"/>
                        <Control_Nothing/>
                      </Control_IfThenElse>
                    </Control_Sequential>
                    <Control_Nothing/>
                  </Control_IfThenElse>
                  <Control_Sequential>
					<!--Assigner un intervalle de depistage chez l'ophtalmologiste.-->
					<Control_ChoiceIsEqual inChoices="6|12|18|24|30|36" inChoices_Type="Int" inValue="@Optometriste_Intervalle">
						<Learning_DecisionNode inLabel="Ophtalmologiste_Intervalle_6">
							<Data_SetVariable inValue="6" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
						</Learning_DecisionNode>
						<Learning_DecisionNode inLabel="Ophtalmologiste_Intervalle_12">
							<Data_SetVariable inValue="6" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="12" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
						</Learning_DecisionNode>
						<Learning_DecisionNode inLabel="Ophtalmologiste_Intervalle_18">
							<Data_SetVariable inValue="6" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="12" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="18" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
						</Learning_DecisionNode>
						<Learning_DecisionNode inLabel="Ophtalmologiste_Intervalle_24">
							<Data_SetVariable inValue="6" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="12" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="18" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="24" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
						</Learning_DecisionNode>
						<Learning_DecisionNode inLabel="Ophtalmologiste_Intervalle_30">
							<Data_SetVariable inValue="6" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="12" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="18" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="24" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="30" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
						</Learning_DecisionNode>
						<Learning_DecisionNode inLabel="Ophtalmologiste_Intervalle_36">
							<Data_SetVariable inValue="6" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="12" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="18" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="24" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="30" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
							<Data_SetVariable inValue="36" inValue_Type="Int" outVariable="@Ophtalmologiste_Intervalle"/>
						</Learning_DecisionNode>
					</Control_ChoiceIsEqual>
					<Control_ProcessPush inTarget="current" inDelay="6" inLabel="Post-Detection"/>
                  </Control_Sequential>
                </Control_Sequential>
                <Control_ProcessPush inTarget="current" inDelay="12" inLabel="Pre-Detection">
                  <!--Depistage infirme-->
                </Control_ProcessPush>
              </Control_IfThenElse>
              <Control_ProcessPush inTarget="current" inDelay="12" inLabel="Pre-Detection">
                <!--Depistage negatif-->
              </Control_ProcessPush>
            </Control_IfThenElse>
            <Control_ProcessPush inTarget="current" inDelay="12" inLabel="Pre-Detection">
              <!--Non-consentant au depistage-->
            </Control_ProcessPush>
          </Control_Branch>
        </Control_IfThenElse>
      </Control_IfThenElse>
    </PrimitiveTree>
  </Process>
